#
# SensorDataSharingMessage.msg
#
# Modified J3224 2020 message format, adjusted to use base SI units (m,s, etc) in most case.
#
# Parsed description of SensorDataSharingMessage from the SAE J3224 2020 specification.
# For further usage details consult the specification. See note on SI units above.
#

# SensorDataSharingMessage ::= SEQUENCE {
#   msgCnt MsgCount,
#   -- Sequence number
#   sourceID TemporaryID,
#   -- temporary vehicle ID / RSU ID. SDSM source.
#   equipmentType EquipmentType,
#   -- Sender type
#   sDSMTimeStamp DDateTime,
#   -- SDSM transmission time
#   refPos Position3D,
#   -- Sender reference position
#   refPosXYConf PositionalAccuracy,
#   refPosElConf ElevationConfidence OPTIONAL,
#   objects DetectedObjectList
#   -- detected objects
# } 

j2735_msgs/MsgCount msg_cnt 

j2735_msgs/TemporaryID source_id

j3224_msgs/EquipmentType equipment_type

j2735_msgs/DDateTime sdsm_time_stamp

cav_msgs/Position3D ref_pos

cav_msgs/PositionalAccuracy ref_pos_xy_conf

cav_msgs/DetectedObjectList objects 

# A BIT STRING defining the presence of optional fields.
# Compare with bitwise-and
# if (presence_vector & HAS_REF_POS_XY_CONF) etc.
# Create with bitwise-or
# presence_vector = presence_vector | HAS_REF_POS_XY_CONF
uint8 presence_vector

uint8 HAS_REF_POS_XY_CONF = 1

j2735_msgs/ElevationConfidence ref_pos_el_conf